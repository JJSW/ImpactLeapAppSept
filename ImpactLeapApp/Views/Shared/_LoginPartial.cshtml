@using Microsoft.AspNetCore.Identity
@using ImpactLeapApp.Models
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{ string strSpacer = "&nbsp;"; }

<!-- BEGIN USER LOGIN DROPDOWN -->
<!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
@if (User.IsInRole("Admin") || User.IsInRole("Manager"))
{
    <form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm">
        <ul class="nav navbar-nav pull-right">
            <li class="dropdown dropdown-user">

                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" role="button" data-hover="dropdown" data-close-others="true" id="dropdownMenuButton" aria-haspopup="true" aria-expanded="false">
                    <img alt="" class="img-circle" src="~/images/avatar.png" />
                    <span class="username username-hide-on-mobile">
                        @UserManager.GetUserName(User)
                    </span>
                    <i class="fa fa-angle-down"></i>
                </a>

                <ul class="dropdown-menu dropdown-menu-default" aria-labelledby="dropdownMenuButton">
                    <li>
                        <a asp-area="" asp-controller="OrderAdmin" asp-action="Index">
                            <i class="fa fa-object-ungroup" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Order Dashboard
                        </a>
                    </li>
                    <li>
                        <a asp-area="" asp-controller="ApplicationUser" asp-action="Index">
                            <i class="fa fa-users" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)User Dashboard
                        </a>
                    </li>
                    <li>
                        <a asp-area="" asp-controller="Module" asp-action="Index">
                            <i class="fa fa-file-text-o" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Modules
                        </a>
                    </li>
                    <li>
                        <a asp-area="" asp-controller="PortfolioAdmin" asp-action="Index">
                            <i class="fa fa-bar-chart" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Portfolios
                        </a>
                    </li>
                    <li>
                        <a asp-area="" asp-controller="Saving" asp-action="Index">
                            <i class="fa fa-usd" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Module Savings
                        </a>
                    </li>
                    <li>
                        <a asp-area="" asp-controller="Promotion" asp-action="Index">
                            <i class="fa fa-trophy" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Promotions
                        </a>
                    </li>
                    <li>
                        <a href="javascript:{}" onclick="document.getElementById('logoutForm').submit(); return false;">
                            <i class="fa fa-sign-out" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Log Out
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </form>
}
else if (SignInManager.IsSignedIn(User))
{
    <form asp-area="" asp-controller="Account" asp-action="Logout" method="post" id="logoutForm">
        <ul class="nav navbar-nav pull-right">
            <li class="dropdown dropdown-user">

                <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" role="button" data-hover="dropdown" data-close-others="true" id="dropdownMenuButton" aria-haspopup="true" aria-expanded="false">
                    <img alt="" class="img-circle" src="~/images/avatar.png" />
                    <span class="username username-hide-on-mobile">
                        @UserManager.GetUserName(User)
                    </span>
                    <i class="fa fa-angle-down"></i>
                </a>

                <ul class="dropdown-menu dropdown-menu-default" aria-labelledby="dropdownMenuButton">
                    <li>
                        <a asp-controller="Order" asp-action="Index">
                            <i class="fa fa-line-chart" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Start New Analysis
                        </a>
                    </li>
                    <li>
                        <a asp-controller="OrderDashboard" asp-action="Index">
                            <i class="fa fa-object-ungroup" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Order Dashboard
                        </a>
                    </li>
                    <li>
                        <a asp-controller="Manage" asp-action="Index">
                            <i class="fa fa-user" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)User Settings
                        </a>
                    </li>
                    <li>
                        <a href="javascript:{}" onclick="document.getElementById('logoutForm').submit(); return false;">
                            <i class="fa fa-sign-out" aria-hidden="true"></i>
                            @Html.Raw(strSpacer)Log Out
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </form>
}
else
{
    <ul class="nav navbar-nav pull-right">
        <li class="dropdown dropdown-user">
            <a asp-area="" asp-controller="Account" asp-action="Register" class="dropdown-toggle">
                <i class="fa fa-user-plus" aria-hidden="true"></i>@Html.Raw(strSpacer)Register
            </a>
        </li>
        <li class="dropdown dropdown-user">
            <a asp-area="" asp-controller="Account" asp-action="Login" class="dropdown-toggle">
                <i class="fa fa-sign-in" aria-hidden="true"></i>@Html.Raw(strSpacer)Log in
            </a>
        </li>
    </ul>
}
